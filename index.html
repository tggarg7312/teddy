<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For Sushii</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <style>
        /* --------------------------------------------------------------------------
           CORE DESIGN SYSTEM - AUTO-FIT
           -------------------------------------------------------------------------- */
        :root {
            --bg-color: #0a0a0a;
            --text-color: #f0f0f0;
            --gold-accent: #d4af37;
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.08);
            --ease-apple: cubic-bezier(0.25, 1, 0.5, 1);
            --ease-cinematic: cubic-bezier(0.65, 0, 0.35, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Prevents scrolling */
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            position: fixed; /* Locks screen in place */
        }

        /* Ambient Background */
        .ambient-glow {
            position: absolute;
            width: 150vw;
            height: 150vh;
            background: radial-gradient(circle at center, #1a1515 0%, #000000 70%);
            z-index: -2;
            animation: pulseGlow 10s infinite alternate ease-in-out;
        }

        /* Scene Management */
        .scene {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1.5s var(--ease-cinematic);
            padding: 5%; /* Safety padding */
            text-align: center;
        }

        .scene.active {
            opacity: 1;
            pointer-events: all;
        }

        /* Typography */
        h1, h2 {
            font-family: 'Playfair Display', serif;
            font-weight: 400;
            letter-spacing: -0.02em;
        }

        /* SCENE 1: OPENING */
        #scene-opening h1 {
            font-size: clamp(1.5rem, 5vw, 3rem);
            background: linear-gradient(90deg, #fff 0%, #dcdcdc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: textFadeIn 2s var(--ease-cinematic) forwards 0.5s;
            opacity: 0;
            transform: translateY(10px);
        }

        /* SCENE 2: LOADER */
        .loader-track {
            width: 200px;
            height: 1px;
            background: rgba(255,255,255,0.1);
            overflow: hidden;
            position: relative;
        }

        .loader-fill {
            width: 100%;
            height: 100%;
            background: #fff;
            transform: translateX(-100%);
            animation: shimmerLoad 3s var(--ease-cinematic) forwards;
        }

        /* SCENE 3: GATE */
        .gate-question {
            font-size: clamp(1.2rem, 4vw, 2rem);
            margin-bottom: 2rem;
        }

        .button-container {
            display: flex;
            gap: 1.5rem;
        }

        .btn {
            padding: 1rem 2rem;
            border-radius: 50px;
            border: 1px solid rgba(255,255,255,0.2);
            background: transparent;
            color: white;
            transition: 0.3s;
            cursor: pointer;
        }

        /* SCENE 4: PASSWORD */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 350px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        input {
            width: 100%;
            background: transparent;
            border: none;
            border-bottom: 1px solid rgba(255,255,255,0.3);
            color: #fff;
            font-size: 1.5rem;
            text-align: center;
            padding: 10px;
            outline: none;
        }

        /* SCENE 5: VIDEO (AUTO-FIT) */
        .video-wrapper {
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 1s ease;
            position: relative;
        }

        video {
            max-width: 100%;
            max-height: 70vh; /* Prevents overflow */
            border-radius: 12px;
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
            object-fit: contain;
        }

        .unmute-hint {
            margin-top: 15px;
            background: rgba(255,255,255,0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.5s;
        }

        /* SCENE 6: FINAL REVEAL (AUTO-FIT) */
        .reveal-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            max-width: 100%;
            max-height: 90vh;
            position: relative;
            z-index: 2;
        }

        .teddy-img {
            width: auto;
            height: auto;
            max-width: 60vw;
            max-height: 30vh;
            object-fit: contain;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
        }

        .name-reveal {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 8vw, 3.5rem);
            color: var(--gold-accent);
        }

        .final-msg {
            font-size: clamp(0.9rem, 3.5vw, 1.1rem);
            opacity: 0;
            line-height: 1.6;
            max-width: 85%;
            transition: all 2s ease;
        }

        /* --------------------------------------------------------------------------
           NEW: CUTE TEDDY ANIMATION (CSS ART)
           -------------------------------------------------------------------------- */
        .cute-bear {
            position: absolute;
            bottom: -100px; /* Start hidden */
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 100px;
            opacity: 0;
            transition: bottom 1s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 1s;
            pointer-events: none;
            z-index: 10;
        }
        
        .bear-head {
            width: 60px;
            height: 50px;
            background: #d4a373;
            border-radius: 50% 50% 40% 40%;
            position: absolute;
            top: 20px;
            left: 30px;
            z-index: 2;
        }
        
        .ear {
            width: 20px;
            height: 20px;
            background: #d4a373;
            border-radius: 50%;
            position: absolute;
            top: 15px;
            z-index: 1;
        }
        .ear.left { left: 25px; }
        .ear.right { right: 25px; }
        
        .eye {
            width: 6px;
            height: 6px;
            background: #333;
            border-radius: 50%;
            position: absolute;
            top: 20px;
            animation: blink 4s infinite;
        }
        .eye.left { left: 15px; }
        .eye.right { right: 15px; }
        
        .snout {
            width: 20px;
            height: 14px;
            background: #faedcd;
            border-radius: 10px;
            position: absolute;
            top: 30px;
            left: 20px;
        }
        
        .nose {
            width: 8px;
            height: 6px;
            background: #333;
            border-radius: 4px;
            position: absolute;
            top: 3px;
            left: 6px;
        }

        .paw {
            width: 25px;
            height: 20px;
            background: #faedcd;
            border-radius: 50%;
            position: absolute;
            bottom: 0;
            z-index: 3;
        }
        .paw.left { left: 10px; transform: rotate(-20deg); animation: wave 2s infinite ease-in-out; }
        .paw.right { right: 10px; transform: rotate(20deg); }

        /* ANIMATIONS */
        @keyframes blink { 0%, 96%, 100% { transform: scaleY(1); } 98% { transform: scaleY(0.1); } }
        @keyframes wave { 0%, 100% { transform: rotate(-20deg); } 50% { transform: rotate(10deg); } }
        @keyframes textFadeIn { to { opacity: 1; transform: translateY(0); } }
        @keyframes shimmerLoad { 0% { transform: translateX(-100%); } 100% { transform: translateX(0%); } }
        @keyframes charRise { to { opacity: 1; transform: translateY(0); } }
        @keyframes pulseGlow { 0% { transform: scale(1); opacity: 0.5; } 100% { transform: scale(1.1); opacity: 0.8; } }

    </style>
</head>
<body>

    <div class="ambient-glow"></div>

    <div id="scene-opening" class="scene active">
        <h1>Tonight‚Ä¶ I have something for you.</h1>
    </div>

    <div id="scene-loader" class="scene">
        <p style="margin-bottom:15px; letter-spacing:2px; font-size:0.8rem;">LOADING MOMENT</p>
        <div class="loader-track"><div class="loader-fill"></div></div>
    </div>

    <div id="scene-gate" class="scene">
        <h2 class="gate-question">Ready for a soft surprise, Sushii?</h2>
        <div class="button-container">
            <button class="btn" id="btn-yes" style="background:rgba(255,255,255,0.1)">YES üß∏</button>
            <button class="btn" id="btn-no">NO üôà</button>
        </div>
    </div>

    <div id="scene-password" class="scene">
        <div class="glass-card" id="password-card">
            <h2>Private Access</h2>
            <input type="number" id="pass-input" placeholder="Passcode" inputmode="numeric">
            <p style="font-size:0.8rem; opacity:0.6;">Hint: our special month</p>
            <p id="error-msg" style="color:#ffb4b4; font-size:0.8rem; opacity:0;">Try again ‚ù§Ô∏è</p>
        </div>
    </div>

    <div id="scene-video" class="scene">
        <div class="video-wrapper">
            <video id="main-video" playsinline webkit-playsinline>
                <source src="teddy-video.mp4" type="video/mp4">
            </video>
            <div class="unmute-hint" id="unmute-hint">Tap video to unmute</div>
        </div>
    </div>

    <div id="scene-final" class="scene">
        <div class="reveal-container">
            <img src="teddy.jpg" alt="Teddy" class="teddy-img" id="teddy-img">
            <div class="name-reveal" id="name-container"></div>
            <div class="final-msg" id="final-msg">
                Happy Teddy Day üß∏<br><br>
                Just like this teddy,<br>
                I wish I could always be there<br>
                to hold you and make you smile.
            </div>
        </div>
        
        <div class="cute-bear" id="cute-bear">
            <div class="ear left"></div>
            <div class="ear right"></div>
            <div class="bear-head">
                <div class="eye left"></div>
                <div class="eye right"></div>
                <div class="snout">
                    <div class="nose"></div>
                </div>
            </div>
            <div class="paw left"></div> <div class="paw right"></div>
        </div>
    </div>

    <script>
        // SETUP
        const scenes = {
            opening: document.getElementById('scene-opening'),
            loader: document.getElementById('scene-loader'),
            gate: document.getElementById('scene-gate'),
            password: document.getElementById('scene-password'),
            video: document.getElementById('scene-video'),
            final: document.getElementById('scene-final')
        };

        function switchScene(from, to) {
            from.style.opacity = '0';
            from.style.pointerEvents = 'none';
            setTimeout(() => {
                from.classList.remove('active');
                to.classList.add('active');
            }, 500);
        }

        // 1. OPENING
        window.addEventListener('load', () => {
            setTimeout(() => { switchScene(scenes.opening, scenes.loader); }, 3000);
            setTimeout(() => { switchScene(scenes.loader, scenes.gate); }, 6000);
        });

        // 3. GATE (Mobile Touch Fix)
        const noBtn = document.getElementById('btn-no');
        const yesBtn = document.getElementById('btn-yes');

        function dodge(e) {
            e.preventDefault();
            const x = (Math.random() - 0.5) * 150;
            const y = (Math.random() - 0.5) * 150;
            noBtn.style.transform = `translate(${x}px, ${y}px)`;
        }

        noBtn.addEventListener('touchstart', dodge);
        noBtn.addEventListener('mouseover', dodge);
        
        yesBtn.addEventListener('click', () => { switchScene(scenes.gate, scenes.password); });

        // 4. PASSWORD
        const passInput = document.getElementById('pass-input');
        passInput.addEventListener('input', (e) => {
            if(e.target.value === '12') {
                passInput.blur();
                switchScene(scenes.password, scenes.video);
                initVideo();
            } else if (e.target.value.length >= 2) {
                const err = document.getElementById('error-msg');
                err.style.opacity = '1';
                setTimeout(() => { e.target.value = ''; err.style.opacity = '0'; }, 1000);
            }
        });

        // 5. VIDEO (Auto-Fit & Unmute Fix)
        function initVideo() {
            const video = document.getElementById('main-video');
            const wrapper = document.querySelector('.video-wrapper');
            const hint = document.getElementById('unmute-hint');

            setTimeout(() => {
                wrapper.style.opacity = '1';
                video.play().catch(() => { hint.style.opacity = '1'; });
            }, 500);

            wrapper.addEventListener('click', () => {
                video.muted = false;
                video.play();
                hint.style.opacity = '0';
            });

            video.addEventListener('ended', () => {
                wrapper.style.opacity = '0';
                setTimeout(() => { switchScene(scenes.video, scenes.final); runFinal(); }, 1000);
            });

            // Error Fallback
            video.addEventListener('error', () => {
                switchScene(scenes.video, scenes.final);
                runFinal();
            });
        }

        // 6. FINAL REVEAL + CUTE BEAR
        function runFinal() {
            const img = document.getElementById('teddy-img');
            const msg = document.getElementById('final-msg');
            const bear = document.getElementById('cute-bear');
            
            // Image
            setTimeout(() => { 
                img.style.opacity = '1'; 
                img.style.transform = 'translateY(0)'; 
            }, 500);

            // Name
            const nameContainer = document.getElementById('name-container');
            "Sushii".split('').forEach((char, i) => {
                const span = document.createElement('span');
                span.textContent = char;
                span.className = 'char';
                span.style.animation = `charRise 1s forwards ${1 + (i*0.1)}s`;
                nameContainer.appendChild(span);
            });

            // Message
            setTimeout(() => { 
                msg.style.opacity = '1'; 
            }, 2500);

            // CUTE BEAR POP-UP (Added Here)
            setTimeout(() => {
                bear.style.bottom = "20px"; // Pop up from bottom
                bear.style.opacity = "1";
            }, 4000);
        }

    </script>
</body>
</html>
